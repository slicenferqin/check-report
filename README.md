# æ£€æµ‹æŠ¥å‘Šåœ¨çº¿æŸ¥è¯¢ç³»ç»Ÿ

æµ™æ±ŸçœæŸæ£€æµ‹æŠ€æœ¯æœ‰é™å…¬å¸çš„è®¾å¤‡æ£€æµ‹æŠ¥å‘Šåœ¨çº¿æŸ¥è¯¢å¹³å°ã€‚

## ğŸ“‹ é¡¹ç›®ç®€ä»‹

æœ¬ç³»ç»Ÿä¸ºæ£€æµ‹å…¬å¸æä¾›æŠ¥å‘Šåœ¨çº¿æŸ¥è¯¢æœåŠ¡,å·¥åœ°è´¨æ£€äººå‘˜å¯é€šè¿‡æŠ¥å‘Šç¼–å·å¿«é€ŸæŸ¥è¯¢å’Œä¸‹è½½æ£€æµ‹æŠ¥å‘Šã€‚

**ä¸»è¦åŠŸèƒ½:**
- ğŸ” å…¬ä¼—æŠ¥å‘ŠæŸ¥è¯¢ - é€šè¿‡æŠ¥å‘Šç¼–å·æŸ¥è¯¢å’ŒæŸ¥çœ‹æ£€æµ‹æŠ¥å‘Š
- ğŸ“„ æŠ¥å‘Šé¢„è§ˆä¸‹è½½ - æ”¯æŒPDFã€JPGã€PNGæ ¼å¼é¢„è§ˆå’Œä¸‹è½½
- ğŸ” ç®¡ç†åå° - ç®¡ç†å‘˜ç™»å½•ã€æŠ¥å‘Šä¸Šä¼ ã€ç¼–è¾‘ã€åˆ é™¤
- ğŸ“± å“åº”å¼è®¾è®¡ - æ”¯æŒæ¡Œé¢ç«¯ã€å¹³æ¿å’Œç§»åŠ¨ç«¯è®¿é—®

## ğŸ—ï¸ æŠ€æœ¯æ ˆ

### å‰ç«¯
- **æ¡†æ¶**: React 18 + TypeScript
- **æ„å»ºå·¥å…·**: Vite
- **UIç»„ä»¶**: Ant Design 5
- **æ ·å¼**: TailwindCSS
- **è·¯ç”±**: React Router v7
- **HTTPå®¢æˆ·ç«¯**: Axios
- **æ—¥æœŸå¤„ç†**: dayjs

### åç«¯
- **è¿è¡Œæ—¶**: Node.js + TypeScript
- **æ¡†æ¶**: Express
- **ORM**: Prisma
- **æ•°æ®åº“**: MySQL 8.0+
- **è®¤è¯**: JWT + bcrypt
- **æ–‡ä»¶ä¸Šä¼ **: Multer
- **æ—¥å¿—**: Winston

### å¼€å‘å·¥å…·
- **åŒ…ç®¡ç†**: pnpm (Monorepo)
- **ä»£ç æ ¼å¼åŒ–**: Prettier
- **ç‰ˆæœ¬æ§åˆ¶**: Git

## ğŸ“ é¡¹ç›®ç»“æ„

\`\`\`
checkReport/
â”œâ”€â”€ apps/
â”‚   â”œâ”€â”€ web/                # React å‰ç«¯åº”ç”¨
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ components/ # React ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ pages/      # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ services/   # API æœåŠ¡
â”‚   â”‚   â”‚   â””â”€â”€ App.tsx
â”‚   â”‚   â””â”€â”€ package.json
â”‚   â””â”€â”€ api/                # Node.js åç«¯åº”ç”¨
â”‚       â”œâ”€â”€ src/
â”‚       â”‚   â”œâ”€â”€ routes/     # API è·¯ç”±
â”‚       â”‚   â”œâ”€â”€ middleware/ # ä¸­é—´ä»¶
â”‚       â”‚   â”œâ”€â”€ utils/      # å·¥å…·å‡½æ•°
â”‚       â”‚   â””â”€â”€ index.ts
â”‚       â”œâ”€â”€ prisma/
â”‚       â”‚   â””â”€â”€ schema.prisma
â”‚       â””â”€â”€ package.json
â”œâ”€â”€ docs/                   # é¡¹ç›®æ–‡æ¡£
â”‚   â”œâ”€â”€ architecture.md     # æ¶æ„è®¾è®¡
â”‚   â”œâ”€â”€ database-design.md  # æ•°æ®åº“è®¾è®¡
â”‚   â”œâ”€â”€ api-design.md       # API æ¥å£è®¾è®¡
â”‚   â””â”€â”€ stories/            # å¼€å‘ä»»åŠ¡ Story
â”œâ”€â”€ pnpm-workspace.yaml
â””â”€â”€ package.json
\`\`\`

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js >= 18.0.0
- pnpm >= 8.0.0
- MySQL >= 8.0

### å®‰è£…ä¾èµ–

\`\`\`bash
# å®‰è£… pnpm (å¦‚æœå°šæœªå®‰è£…)
npm install -g pnpm

# å®‰è£…æ‰€æœ‰ä¾èµ–
pnpm install
\`\`\`

### é…ç½®æ•°æ®åº“

1. åˆ›å»º MySQL æ•°æ®åº“:

\`\`\`sql
CREATE DATABASE checkReport CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
\`\`\`

2. é…ç½®ç¯å¢ƒå˜é‡ \`apps/api/.env\`:

\`\`\`env
DATABASE_URL="mysql://root:your_password@localhost:3306/checkReport"
JWT_SECRET="your-super-secret-jwt-key"
PORT=3000
NODE_ENV=development
\`\`\`

3. è¿è¡Œæ•°æ®åº“è¿ç§»:

\`\`\`bash
cd apps/api
pnpm prisma migrate dev --name init
\`\`\`

4. åˆå§‹åŒ–æ•°æ® (åˆ›å»ºé»˜è®¤ç®¡ç†å‘˜):

\`\`\`bash
pnpm prisma db seed
# é»˜è®¤ç®¡ç†å‘˜è´¦å·: admin / Admin@123
\`\`\`

### å¯åŠ¨å¼€å‘æœåŠ¡å™¨

\`\`\`bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•

# å¯åŠ¨åç«¯ (ç«¯å£ 3000)
pnpm dev:api

# å¯åŠ¨å‰ç«¯ (ç«¯å£ 5173)
pnpm dev:web

# åŒæ—¶å¯åŠ¨å‰åç«¯
pnpm dev
\`\`\`

è®¿é—®åœ°å€:
- å‰ç«¯: http://localhost:5173
- åç«¯ API: http://localhost:3000
- å¥åº·æ£€æŸ¥: http://localhost:3000/api/health

## ğŸ”§ å¼€å‘å‘½ä»¤

\`\`\`bash
# å¼€å‘
pnpm dev              # å¯åŠ¨å‰åç«¯å¼€å‘æœåŠ¡å™¨
pnpm dev:web          # ä»…å¯åŠ¨å‰ç«¯
pnpm dev:api          # ä»…å¯åŠ¨åç«¯

# æ„å»º
pnpm build            # æ„å»ºå‰åç«¯ç”Ÿäº§ç‰ˆæœ¬

# ä»£ç è´¨é‡
pnpm lint             # è¿è¡Œæ‰€æœ‰ lint æ£€æŸ¥
pnpm format           # æ ¼å¼åŒ–ä»£ç  (Prettier)

# æµ‹è¯•
pnpm test             # è¿è¡Œæ‰€æœ‰æµ‹è¯•

# Prisma å‘½ä»¤
cd apps/api
pnpm prisma studio    # æ‰“å¼€ Prisma Studio æ•°æ®åº“ç®¡ç†ç•Œé¢
pnpm prisma generate  # ç”Ÿæˆ Prisma Client
pnpm prisma migrate dev # åˆ›å»ºæ–°çš„æ•°æ®åº“è¿ç§»
\`\`\`

## ğŸ“– API æ–‡æ¡£

è¯¦ç»† API æ–‡æ¡£è¯·æŸ¥çœ‹: [docs/api-design.md](./docs/api-design.md)

### ä¸»è¦æ¥å£

**å…¬ä¼—æ¥å£:**
- \`GET /api/health\` - å¥åº·æ£€æŸ¥
- \`GET /api/reports/:reportNumber\` - æŸ¥è¯¢æŠ¥å‘Š

**ç®¡ç†æ¥å£ (éœ€è¦è®¤è¯):**
- \`POST /admin/login\` - ç®¡ç†å‘˜ç™»å½•
- \`GET /admin/reports\` - æŠ¥å‘Šåˆ—è¡¨ (åˆ†é¡µ)
- \`POST /admin/upload\` - ä¸Šä¼ æ–‡ä»¶
- \`POST /admin/reports\` - åˆ›å»ºæŠ¥å‘Š
- \`PUT /admin/reports/:id\` - æ›´æ–°æŠ¥å‘Š
- \`DELETE /admin/reports/:id\` - åˆ é™¤æŠ¥å‘Š
- \`GET /admin/stats\` - ç»Ÿè®¡æ•°æ®

## ğŸ—„ï¸ æ•°æ®åº“è®¾è®¡

è¯¦ç»†æ•°æ®åº“è®¾è®¡è¯·æŸ¥çœ‹: [docs/database-design.md](./docs/database-design.md)

### æ ¸å¿ƒè¡¨

**reports** - æŠ¥å‘Šè¡¨
- å­˜å‚¨æŠ¥å‘Šå…ƒæ•°æ® (ç¼–å·ã€ç±»å‹ã€æ—¥æœŸã€è®¾å¤‡ä¿¡æ¯ç­‰)
- æ–‡ä»¶è·¯å¾„å’Œç±»å‹

**admins** - ç®¡ç†å‘˜è¡¨
- ç®¡ç†å‘˜è´¦å·
- bcrypt åŠ å¯†å¯†ç 

## ğŸ¨ UI è®¾è®¡

è¯¦ç»† UI/UX è®¾è®¡è¯·æŸ¥çœ‹: [docs/ui-ux-design.md](./docs/ui-ux-design.md)

## ğŸ“ å¼€å‘æµç¨‹

æœ¬é¡¹ç›®é‡‡ç”¨ **BMad å¼€å‘æ–¹æ³•è®º**,æ¯ä¸ªåŠŸèƒ½éƒ½æ‹†åˆ†ä¸ºç‹¬ç«‹çš„ Story:

1. æŸ¥çœ‹ \`docs/stories/\` ç›®å½•ä¸‹çš„ Story æ–‡ä»¶
2. æŒ‰ä¼˜å…ˆçº§ (P0 â†’ P1 â†’ P2) ä¾æ¬¡å¼€å‘
3. æ¯ä¸ª Story åŒ…å«è¯¦ç»†çš„éªŒæ”¶æ ‡å‡†å’Œæµ‹è¯•ç”¨ä¾‹

**å½“å‰ Story åˆ—è¡¨:**
- Story 1.1: é¡¹ç›®åˆå§‹åŒ–ä¸å¼€å‘ç¯å¢ƒæ­å»º âœ…
- Story 1.2: æ•°æ®åº“æ¨¡å‹è®¾è®¡ä¸å®ç°
- Story 1.3: æŠ¥å‘ŠæŸ¥è¯¢APIå¼€å‘
- ... (æŸ¥çœ‹ docs/stories/ äº†è§£å…¨éƒ¨)

## ğŸ” å®‰å…¨è¯´æ˜

### ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²å‰å¿…åš:

1. **æ›´æ”¹ JWT å¯†é’¥**: ä¿®æ”¹ \`.env\` ä¸­çš„ \`JWT_SECRET\` ä¸ºå¼ºéšæœºå­—ç¬¦ä¸²
2. **é…ç½® HTTPS**: ä½¿ç”¨ Nginx é…ç½® SSL è¯ä¹¦
3. **æ•°æ®åº“å®‰å…¨**: ä½¿ç”¨å¼ºå¯†ç ,é™åˆ¶æ•°æ®åº“è®¿é—®æƒé™
4. **æ–‡ä»¶ä¸Šä¼ é™åˆ¶**: å·²é…ç½®æ–‡ä»¶ç±»å‹å’Œå¤§å°é™åˆ¶ (PDF/JPG/PNG, max 10MB)

## ğŸ“¦ éƒ¨ç½²

è¯¦ç»†éƒ¨ç½²è¯´æ˜è¯·æŸ¥çœ‹: [docs/architecture.md#éƒ¨ç½²æ¶æ„](./docs/architecture.md)

### ç”Ÿäº§ç¯å¢ƒæ„å»º

\`\`\`bash
# æ„å»ºå‰åç«¯
pnpm build

# å¯åŠ¨åç«¯ç”Ÿäº§æœåŠ¡
cd apps/api
pnpm start

# å‰ç«¯éƒ¨ç½²åˆ° Nginx
# å°† apps/web/dist ç›®å½•éƒ¨ç½²åˆ° Nginx é™æ€ç›®å½•
\`\`\`

## ğŸ¤ è´¡çŒ®

æœ¬é¡¹ç›®ä¸ºå†…éƒ¨é¡¹ç›®,æš‚ä¸æ¥å—å¤–éƒ¨è´¡çŒ®ã€‚

## ğŸ“„ è®¸å¯è¯

å†…éƒ¨é¡¹ç›®,ä¿ç•™æ‰€æœ‰æƒåˆ©ã€‚

---

**å¼€å‘å›¢é˜Ÿ:** æµ™æ±ŸXXXæ£€æµ‹æŠ€æœ¯æœ‰é™å…¬å¸
**æ–‡æ¡£æ›´æ–°:** 2025-10-13
